{
  "success": true,
  "content": "```json\n{\n  \"schema\": {\n    \"$schema\": \"https://json-schema.org/draft-2020-12/schema\",\n    \"$id\": \"urn:uia:listener-events:schema:v1\",\n    \"title\": \"UIA Listener Events Schema\",\n    \"description\": \"Schema for validating an array of UIA listener events.\",\n    \"type\": \"array\",\n    \"items\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"EventType\": {\n          \"type\": \"string\",\n          \"enum\": [\n            \"StructureChanged\",\n            \"Focus\",\n            \"PropertyChanged\"\n          ]\n        },\n        \"TimestampUtc\": {\n          \"type\": \"string\",\n          \"format\": \"date-time\"\n        },\n        \"ControlType\": {\n          \"type\": \"string\",\n          \"pattern\": \"^ControlType\\\\.\"\n        },\n        \"Name\": {\n          \"type\": [\"string\", \"null\"]\n        },\n        \"ClassName\": {\n          \"type\": [\"string\", \"null\"]\n        },\n        \"ProcessId\": {\n          \"type\": \"integer\",\n          \"minimum\": 0\n        },\n        \"ThreadId\": {\n          \"type\": \"integer\",\n          \"minimum\": 0\n        },\n        \"RuntimeId\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"integer\"\n          },\n          \"minItems\": 1\n        },\n        \"PropertyName\": {\n          \"type\": [\"string\", \"null\"]\n        },\n        \"NewValue\": {\n          \"$ref\": \"#/$defs/Value\"\n        },\n        \"StructureChangeType\": {\n          \"type\": [\"string\", \"null\"],\n          \"enum\": [\n            \"ChildrenInvalidated\",\n            \"ChildAdded\",\n            \"ChildRemoved\"\n          ]\n        },\n        \"BoundingRectangle\": {\n          \"$ref\": \"#/$defs/BoundingRect\"\n        }\n      },\n      \"required\": [\n        \"EventType\",\n        \"TimestampUtc\",\n        \"ControlType\",\n        \"ProcessId\"\n      ],\n      \"additionalProperties\": false,\n      \"if\": {\n        \"properties\": { \"EventType\": { \"const\": \"PropertyChanged\" } }\n      },\n      \"then\": {\n        \"required\": [\"PropertyName\", \"NewValue\"]\n      },\n      \"if\": {\n        \"properties\": { \"EventType\": { \"const\": \"StructureChanged\" } }\n      },\n      \"then\": {\n        \"required\": [\"StructureChangeType\"]\n      }\n    },\n    \"$defs\": {\n      \"ControlTypeEnum\": {\n        \"type\": \"string\",\n        \"pattern\": \"^ControlType\\\\.\"\n      },\n      \"StructureChangeEnum\": {\n        \"type\": \"string\",\n        \"enum\": [\n          \"ChildrenInvalidated\",\n          \"ChildAdded\",\n          \"ChildRemoved\"\n        ]\n      },\n      \"EventTypeEnum\": {\n        \"type\": \"string\",\n        \"enum\": [\n          \"StructureChanged\",\n          \"Focus\",\n          \"PropertyChanged\"\n        ]\n      },\n      \"Value\": {\n        \"anyOf\": [\n          { \"type\": \"string\" },\n          { \"type\": \"number\" },\n          { \"type\": \"boolean\" },\n          { \"type\": \"null\" },\n          { \"type\": \"object\" },\n          { \"type\": \"array\" }\n        ]\n      },\n      \"BoundingRect\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"x\": { \"type\": \"number\" },\n          \"y\": { \"type\": \"number\" },\n          \"width\": { \"type\": \"number\" },\n          \"height\": { \"type\": \"number\" }\n        },\n        \"required\": [\"x\", \"y\", \"width\", \"height\"]\n      }\n    },\n    \"examples\": [\n      {\n        \"EventType\": \"StructureChanged\",\n        \"TimestampUtc\": \"2025-08-20T13:44:48.9122127Z\",\n        \"ControlType\": \"ControlType.Group\",\n        \"Name\": \"\",\n        \"ClassName\": \"System.__ComObject\",\n        \"ProcessId\": 8768,\n        \"PropertyName\": null,\n        \"NewValue\": null,\n        \"StructureChangeType\": \"ChildrenInvalidated\"\n      },\n      {\n        \"EventType\": \"Focus\",\n        \"TimestampUtc\": \"2025-08-20T13:45:02.1079243Z\",\n        \"ControlType\": \"ControlType.Document\",\n        \"Name\": \"program.cs - OkBot - Cursor\",\n        \"ClassName\": \"System.__ComObject\",\n        \"ProcessId\": 8768,\n        \"PropertyName\": null,\n        \"NewValue\": null,\n        \"StructureChangeType\": null\n      },\n      {\n        \"EventType\": \"PropertyChanged\",\n        \"TimestampUtc\": \"2025-08-20T13:45:00.6234169Z\",\n        \"ControlType\": \"ControlType.Group\",\n        \"Name\": \"\",\n        \"ClassName\": \"System.__ComObject\",\n        \"ProcessId\": 8768,\n        \"PropertyName\": \"AutomationElementIdentifiers.NameProperty\",\n        \"NewValue\": \"\",\n        \"StructureChangeType\": null\n      }\n    ]\n  }\n}\n```",
  "model": "gpt-4o-mini",
  "usage": {
    "prompt_tokens": 102976,
    "completion_tokens": 1086,
    "total_tokens": 104062
  },
  "raw_response": "ChatCompletion(id='chatcmpl-C7RrYI0aJUpyHvw7dzdx9fgxGmIee', choices=[Choice(finish_reason='stop', index=0, logprobs=None, message=ChatCompletionMessage(content='```json\\n{\\n  \"schema\": {\\n    \"$schema\": \"https://json-schema.org/draft-2020-12/schema\",\\n    \"$id\": \"urn:uia:listener-events:schema:v1\",\\n    \"title\": \"UIA Listener Events Schema\",\\n    \"description\": \"Schema for validating an array of UIA listener events.\",\\n    \"type\": \"array\",\\n    \"items\": {\\n      \"type\": \"object\",\\n      \"properties\": {\\n        \"EventType\": {\\n          \"type\": \"string\",\\n          \"enum\": [\\n            \"StructureChanged\",\\n            \"Focus\",\\n            \"PropertyChanged\"\\n          ]\\n        },\\n        \"TimestampUtc\": {\\n          \"type\": \"string\",\\n          \"format\": \"date-time\"\\n        },\\n        \"ControlType\": {\\n          \"type\": \"string\",\\n          \"pattern\": \"^ControlType\\\\\\\\.\"\\n        },\\n        \"Name\": {\\n          \"type\": [\"string\", \"null\"]\\n        },\\n        \"ClassName\": {\\n          \"type\": [\"string\", \"null\"]\\n        },\\n        \"ProcessId\": {\\n          \"type\": \"integer\",\\n          \"minimum\": 0\\n        },\\n        \"ThreadId\": {\\n          \"type\": \"integer\",\\n          \"minimum\": 0\\n        },\\n        \"RuntimeId\": {\\n          \"type\": \"array\",\\n          \"items\": {\\n            \"type\": \"integer\"\\n          },\\n          \"minItems\": 1\\n        },\\n        \"PropertyName\": {\\n          \"type\": [\"string\", \"null\"]\\n        },\\n        \"NewValue\": {\\n          \"$ref\": \"#/$defs/Value\"\\n        },\\n        \"StructureChangeType\": {\\n          \"type\": [\"string\", \"null\"],\\n          \"enum\": [\\n            \"ChildrenInvalidated\",\\n            \"ChildAdded\",\\n            \"ChildRemoved\"\\n          ]\\n        },\\n        \"BoundingRectangle\": {\\n          \"$ref\": \"#/$defs/BoundingRect\"\\n        }\\n      },\\n      \"required\": [\\n        \"EventType\",\\n        \"TimestampUtc\",\\n        \"ControlType\",\\n        \"ProcessId\"\\n      ],\\n      \"additionalProperties\": false,\\n      \"if\": {\\n        \"properties\": { \"EventType\": { \"const\": \"PropertyChanged\" } }\\n      },\\n      \"then\": {\\n        \"required\": [\"PropertyName\", \"NewValue\"]\\n      },\\n      \"if\": {\\n        \"properties\": { \"EventType\": { \"const\": \"StructureChanged\" } }\\n      },\\n      \"then\": {\\n        \"required\": [\"StructureChangeType\"]\\n      }\\n    },\\n    \"$defs\": {\\n      \"ControlTypeEnum\": {\\n        \"type\": \"string\",\\n        \"pattern\": \"^ControlType\\\\\\\\.\"\\n      },\\n      \"StructureChangeEnum\": {\\n        \"type\": \"string\",\\n        \"enum\": [\\n          \"ChildrenInvalidated\",\\n          \"ChildAdded\",\\n          \"ChildRemoved\"\\n        ]\\n      },\\n      \"EventTypeEnum\": {\\n        \"type\": \"string\",\\n        \"enum\": [\\n          \"StructureChanged\",\\n          \"Focus\",\\n          \"PropertyChanged\"\\n        ]\\n      },\\n      \"Value\": {\\n        \"anyOf\": [\\n          { \"type\": \"string\" },\\n          { \"type\": \"number\" },\\n          { \"type\": \"boolean\" },\\n          { \"type\": \"null\" },\\n          { \"type\": \"object\" },\\n          { \"type\": \"array\" }\\n        ]\\n      },\\n      \"BoundingRect\": {\\n        \"type\": \"object\",\\n        \"properties\": {\\n          \"x\": { \"type\": \"number\" },\\n          \"y\": { \"type\": \"number\" },\\n          \"width\": { \"type\": \"number\" },\\n          \"height\": { \"type\": \"number\" }\\n        },\\n        \"required\": [\"x\", \"y\", \"width\", \"height\"]\\n      }\\n    },\\n    \"examples\": [\\n      {\\n        \"EventType\": \"StructureChanged\",\\n        \"TimestampUtc\": \"2025-08-20T13:44:48.9122127Z\",\\n        \"ControlType\": \"ControlType.Group\",\\n        \"Name\": \"\",\\n        \"ClassName\": \"System.__ComObject\",\\n        \"ProcessId\": 8768,\\n        \"PropertyName\": null,\\n        \"NewValue\": null,\\n        \"StructureChangeType\": \"ChildrenInvalidated\"\\n      },\\n      {\\n        \"EventType\": \"Focus\",\\n        \"TimestampUtc\": \"2025-08-20T13:45:02.1079243Z\",\\n        \"ControlType\": \"ControlType.Document\",\\n        \"Name\": \"program.cs - OkBot - Cursor\",\\n        \"ClassName\": \"System.__ComObject\",\\n        \"ProcessId\": 8768,\\n        \"PropertyName\": null,\\n        \"NewValue\": null,\\n        \"StructureChangeType\": null\\n      },\\n      {\\n        \"EventType\": \"PropertyChanged\",\\n        \"TimestampUtc\": \"2025-08-20T13:45:00.6234169Z\",\\n        \"ControlType\": \"ControlType.Group\",\\n        \"Name\": \"\",\\n        \"ClassName\": \"System.__ComObject\",\\n        \"ProcessId\": 8768,\\n        \"PropertyName\": \"AutomationElementIdentifiers.NameProperty\",\\n        \"NewValue\": \"\",\\n        \"StructureChangeType\": null\\n      }\\n    ]\\n  }\\n}\\n```', refusal=None, role='assistant', annotations=[], audio=None, function_call=None, tool_calls=None))], created=1755891436, model='gpt-4o-mini-2024-07-18', object='chat.completion', service_tier='default', system_fingerprint='fp_51db84afab', usage=CompletionUsage(completion_tokens=1086, prompt_tokens=102976, total_tokens=104062, completion_tokens_details=CompletionTokensDetails(accepted_prediction_tokens=0, audio_tokens=0, reasoning_tokens=0, rejected_prediction_tokens=0), prompt_tokens_details=PromptTokensDetails(audio_tokens=0, cached_tokens=0)))"
}